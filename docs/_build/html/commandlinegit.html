<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Git on the commandline &mdash; Don&#39;t be afraid to commit 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Don&#39;t be afraid to commit 0.1 documentation" href="index.html" />
    <link rel="next" title="Working with remotes" href="remotes.html" />
    <link rel="prev" title="Git and GitHub" href="git.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="remotes.html" title="Working with remotes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="git.html" title="Git and GitHub"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Don&#39;t be afraid to commit 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="git-on-the-commandline">
<h1>Git on the commandline<a class="headerlink" href="#git-on-the-commandline" title="Permalink to this headline">¶</a></h1>
<p>In this section you will:</p>
<ul class="simple">
<li>install and configure Git locally</li>
<li>create your own local clone of a repository</li>
<li>create a new Git branch</li>
<li>edit a file and stage your changes</li>
<li>commit your changes</li>
<li>push your changes to GitHub</li>
<li>make a pull request</li>
<li>merge upstream changes into your fork</li>
<li>merge changes on GitHub into your local clone</li>
</ul>
<p>So far we&#8217;ve done all our Git work using the GitHub website, but that&#8217;s often not the most appropriate way to work.</p>
<p>You&#8217;ll find that most of your Git-related operations can and need to be done on the commandline.</p>
<div class="section" id="install-set-up-git">
<h2>Install/set up Git<a class="headerlink" href="#install-set-up-git" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>sudo apt-get install git # for Debian/Ubuntu users</pre>
</div>
<p>There are other ways of installing Git; you can even get a graphical Git application, that will include the commandline tools. These are described at:</p>
<blockquote>
<div><a class="reference external" href="http://git-scm.com/book/en/Getting-Started-Installing-Git">http://git-scm.com/book/en/Getting-Started-Installing-Git</a></div></blockquote>
<div class="section" id="tell-git-who-you-are">
<h3>Tell Git who you are<a class="headerlink" href="#tell-git-who-you-are" title="Permalink to this headline">¶</a></h3>
<p>First, you need to tell Git who you are:</p>
<div class="highlight-python"><pre>git config --global user.email "you@example.com"
git config --global user.name "Your Name"</pre>
</div>
</div>
<div class="section" id="give-github-your-public-keys">
<h3>Give GitHub your public keys<a class="headerlink" href="#give-github-your-public-keys" title="Permalink to this headline">¶</a></h3>
<p>This is a great timesaver: if GitHub has your public keys, you can do all
kinds of things from your commandline without needing to enter your GitHub
password.</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/settings/ssh">https://github.com/settings/ssh</a></li>
</ul>
<p><strong>This tutorial assumes you have now added your public key to your GitHub
account.</strong> If you haven&#8217;t, you&#8217;ll have to use <em>https</em> instead, and translate
from the format of GitHub&#8217;s <em>ssh</em> URLS.</p>
<p><a class="reference external" href="https://help.github.com/articles/generating-ssh-keys">https://help.github.com/articles/generating-ssh-keys</a> explains much better than
I can how to generate a public key.</p>
<p>See <a class="reference external" href="https://gist.github.com/grawity/4392747">https://gist.github.com/grawity/4392747</a> for a discussion of the different
protocols.</p>
</div>
</div>
<div class="section" id="some-basic-git-operations">
<h2>Some basic Git operations<a class="headerlink" href="#some-basic-git-operations" title="Permalink to this headline">¶</a></h2>
<p>When we worked on GitHub, the basic work cycle was <em>fork</em> &gt; <em>edit</em> &gt; <em>commit</em>
&gt; <em>pull request</em> &gt; <em>merge</em>. The same cycle, with a few differences, is what we
will work through on the commandline.</p>
<div class="section" id="clone-a-repository">
<h3>Clone a repository<a class="headerlink" href="#clone-a-repository" title="Permalink to this headline">¶</a></h3>
<p>When you made a copy of the <em>Don&#8217;t be afraid to commit</em> repository on GitHub,
that was a <em>fork</em>. Getting a copy of a repository onto your local machine is
called <em>cloning</em>. Copy the <em>ssh URL</em> from
<a class="reference external" href="https://github.com">https://github.com</a>/&lt;your github account&gt;/afraid-to-commit.</p>
<div class="highlight-python"><pre>git clone git@github.com:&lt;your github account&gt;/afraid-to-commit.git</pre>
</div>
<p>Change into the newly-created directory, where you&#8217;ll find all the source code
of the <em>Don&#8217;t be afraid to commit</em> project.</p>
<p>We want to know the status of our <strong>working directory</strong>. The working directory
is the set of files that you currently have in front of you, available to
edit:</p>
<div class="highlight-python"><pre>$ git status
# On branch master
nothing to commit (working directory clean)</pre>
</div>
</div>
<div class="section" id="create-a-new-branch">
<h3>Create a new branch<a class="headerlink" href="#create-a-new-branch" title="Permalink to this headline">¶</a></h3>
<p>Just as you did on GitHub, once again you&#8217;re going to create a new branch,
based on <em>master</em>, for new work to go into:</p>
<div class="highlight-python"><pre>$ git checkout -b amend-my-name
Switched to a new branch 'amend-my-name</pre>
</div>
<p><tt class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span></tt> is a command you&#8217;ll use a lot, to switch between branches. The
<tt class="docutils literal"><span class="pre">-b</span></tt> flag tells it to <strong>create a new branch</strong> at the same time. By default,
the new branch is based upon whatever branch you were on.</p>
</div>
<div class="section" id="edit-a-file">
<h3>Edit a file<a class="headerlink" href="#edit-a-file" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>find the <tt class="docutils literal"><span class="pre">attendees_and_learners.rst</span></tt> file again</li>
<li>after your name and email address, add your Github account</li>
<li>save the file</li>
</ol>
<p><tt class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></tt> is always useful:</p>
<div class="highlight-python"><pre>$ git status
# On branch amend-my-name
# Changes not staged for commit:
#   (use "git add &lt;file&gt;..." to update what will be committed)
#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)
#
#   modified:   attendees_and_learners.rst
#
no changes added to commit (use "git add" and/or "git commit -a")</pre>
</div>
<p>What this is telling us:</p>
<ul class="simple">
<li>we&#8217;re on the <em>amend-my-name</em> branch</li>
<li>that we have one modified file</li>
<li>that there&#8217;s nothing to commit</li>
</ul>
<p>These changes will only be applied to this branch when they&#8217;re committed. You
can <tt class="docutils literal"><span class="pre">git</span> <span class="pre">add</span></tt> changed files, but until you commit they won&#8217;t belong to any
particular branch.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When to branch</p>
<blockquote class="last">
<div>You don&#8217;t actually <em>need</em> to create your new branch until you decide to
commit. But creating your new branches before you start making changes
makes it less likely that you will forget later, and commit things to the
wrong branch.</div></blockquote>
</div>
</div>
<div class="section" id="stage-your-changes">
<h3>Stage your changes<a class="headerlink" href="#stage-your-changes" title="Permalink to this headline">¶</a></h3>
<p>Git has a <strong>staging area</strong>, for files that you want to commit. On GitHub
when you edit a file, you commit it as soon as you save it. On your
machine, you can edit a number of files and commit them altogether.</p>
<p><strong>Staging a file</strong> in Git&#8217;s terminology means adding it to the staging
area, in preparation for a commit.</p>
<p>Add your amended file to the staging area:</p>
<div class="highlight-python"><pre>git add attendees_and_learners.rst</pre>
</div>
<p>and check the result:</p>
<div class="highlight-python"><pre>$ git status
# On branch amend-my-name
# Changes to be committed:
#   (use "git reset HEAD &lt;file&gt;..." to unstage)
#
#   modified:   attendees_and_learners.rst
#</pre>
</div>
<p>If there are other files you want to change, you can add them when you&#8217;re
ready; until you commit, they&#8217;ll all be together in the staging area.</p>
<div class="section" id="what-gets-staged">
<h4>What gets staged?<a class="headerlink" href="#what-gets-staged" title="Permalink to this headline">¶</a></h4>
<p>It&#8217;s not your files, but the <strong>changes to your files</strong>, that are staged. Make
some further change to <tt class="docutils literal"><span class="pre">attendees_and_learners.rst</span></tt>, and run <tt class="docutils literal"><span class="pre">git</span> <span class="pre">status</span></tt>:</p>
<div class="highlight-python"><pre>$ git status
# On branch amend-my-name
# Changes to be committed:
#   (use "git reset HEAD &lt;file&gt;..." to unstage)
#
#   modified:   attendees_and_learners.rst
#
# Changes not staged for commit:
#   (use "git add &lt;file&gt;..." to update what will be committed)
#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)
#
#   modified:   attendees_and_learners.rst
#</pre>
</div>
<p>Some of the changes in <tt class="docutils literal"><span class="pre">attendees_and_learners.rst</span></tt> will be committed, and the
more recent ones will not. You&#8217;ll need to <tt class="docutils literal"><span class="pre">git</span> <span class="pre">add</span></tt> the file again to stage
them.</p>
</div>
</div>
<div class="section" id="commit-your-changes">
<h3>Commit your changes<a class="headerlink" href="#commit-your-changes" title="Permalink to this headline">¶</a></h3>
<p>When you&#8217;re happy with your files, and have added the changes you want to
commit to the staging area:</p>
<div class="highlight-python"><pre>git commit -m "added my github name"</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">-m</span></tt> flag is for the message (&#8220;added my github name&#8221;) on the commit -
every commit needs a commit message.</p>
</div>
<div class="section" id="push-your-changes-to-github">
<h3>Push your changes to GitHub<a class="headerlink" href="#push-your-changes-to-github" title="Permalink to this headline">¶</a></h3>
<p>When you made a change on GitHub, it not only saved the change and committed
the file at the same time, it also showed up right away in your GitHub
repository. Here there is an extra step: we need to <strong>push</strong> the files to
GitHub.</p>
<p>If you were pushing changes from <em>master</em> locally to <em>master</em> on GitHub, you
could just issue the command <tt class="docutils literal"><span class="pre">git</span> <span class="pre">push</span></tt>.</p>
<p>You have multiple branches here, so you need to tell git <em>where</em> to push (i.e.
back to the remote repository you cloned from, on GitHub) and <em>what</em> exactly
to push (your new branch).</p>
<p>The repository you cloned from can be referred to as <strong>origin</strong>. The new
branch is called <em>amend-my-name</em>. So:</p>
<div class="highlight-python"><pre>$ git push origin amend-my-name
Counting objects: 34, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (21/21), done.
Writing objects: 100% (28/28), 6.87 KiB, done.
Total 28 (delta 13), reused 12 (delta 7)
To git@github.com:evildmp/afraid-to-commit.git
 * [new branch]      amend-my-name -&gt; amend-my-name</pre>
</div>
<p>Next time you want to push committed changes in <em>amend-my-name</em>, you won&#8217;t
need to specify the branch, you can simply do <tt class="docutils literal"><span class="pre">git</span> <span class="pre">push</span></tt>, because now
<em>amend-my-name</em> exists at both ends.</p>
</div>
<div class="section" id="check-your-github-repository">
<h3>Check your GitHub repository<a class="headerlink" href="#check-your-github-repository" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>go to <a class="reference external" href="https://github.com">https://github.com</a>/&lt;your GitHub name&gt;/afraid-to-commit</li>
<li>check that your new <em>amend-my-name</em> branch is there</li>
<li>check that your latest change to <tt class="docutils literal"><span class="pre">attendees_and_learners.rst</span></tt> is in it</li>
</ul>
</div>
<div class="section" id="send-me-a-pull-request">
<h3>Send me a pull request<a class="headerlink" href="#send-me-a-pull-request" title="Permalink to this headline">¶</a></h3>
<p>You can make more changes locally, and continue committing them, and pushing
them to GitHub. When you&#8217;ve made all the changes that you&#8217;d like me to accept
though, it&#8217;s time to send <em>me</em> a pull request.</p>
<p><strong>Important</strong>: make sure that you send it from your new branch <em>amend-my-name</em>
(not from your <em>master</em>) the way you did before.</p>
<p>And if I like your changes, I&#8217;ll merge them.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Keeping master &#8216;clean&#8217;</p>
<blockquote class="last">
<div><p>You <em>could</em> of course have merged your new branch into your <em>master</em>
branch, and sent me a pull request from that. But, once again, it&#8217;s a good
policy to keep your <em>master</em> branch, on GitHub too, clean of changes you
make, and only to pull things into it from upstream.</p>
<p>In fact the same thing goes for other branches on my upstream that you
want to work with. Keeping them clean isn&#8217;t strictly necessary, but it&#8217;s
nice to know that you&#8217;ll always be able to pull changes from upstream
without having to tidy up merge conflicts.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="incorporate-upstream-changes">
<h3>Incorporate upstream changes<a class="headerlink" href="#incorporate-upstream-changes" title="Permalink to this headline">¶</a></h3>
<p>Once again, I may have merged other people&#8217;s pull requests too. Assuming that
you want to keep up-to-date with my changes, you&#8217;re going to want to merge
those into your GitHub fork as well as your local clone.</p>
<p>So:</p>
<ul class="simple">
<li>on GitHub, pull the upstream changes into your fork the way you did
previously</li>
</ul>
<p>Then switch back to your master branch in the usual way (<tt class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span>
<span class="pre">master</span></tt>). Now, fetch updated information from your GitHub fork (<strong>origin</strong>),
and merge the master:</p>
<div class="highlight-python"><pre>git fetch
git merge origin/master</pre>
</div>
<p>So now we have replicated the full cycle of work we described in the previous
module.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><tt class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></tt></p>
<blockquote class="last">
<div><p>Note that here instead of <tt class="docutils literal"><span class="pre">git</span> <span class="pre">fetch</span></tt> followed by <tt class="docutils literal"><span class="pre">git</span> <span class="pre">merge</span></tt>, you
could have run <tt class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></tt>. The <tt class="docutils literal"><span class="pre">pull</span></tt> operation does two things: it
<strong>fetches</strong> updates from your GitHub fork (<strong>origin</strong>), and <strong>merges</strong>
them.</p>
<p>However, be warned that occasionally <tt class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></tt> won&#8217;t always work in the
way you expect, and doing things the explicit way helps make what you are
doing clearer.</p>
<p><tt class="docutils literal"><span class="pre">git</span> <span class="pre">fetch</span></tt> followed by <tt class="docutils literal"><span class="pre">git</span> <span class="pre">merge</span></tt> is generally the safer option.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="switching-between-branches-locally">
<h3>Switching between branches locally<a class="headerlink" href="#switching-between-branches-locally" title="Permalink to this headline">¶</a></h3>
<p>Show local branches:</p>
<div class="highlight-python"><pre>git branch</pre>
</div>
<p>You can switch between local branches using <tt class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span></tt>. To switch back to
the <em>master</em> branch:</p>
<div class="highlight-python"><pre>git checkout master</pre>
</div>
<p>If you have a changed tracked file - a tracked file is one that Git is
managing - it will warn you that you can&#8217;t switch branches without either
committing, abandoning or &#8216;stashing&#8217; the changes:</p>
<div class="section" id="commit">
<h4>Commit<a class="headerlink" href="#commit" title="Permalink to this headline">¶</a></h4>
<p>You already know how to commit changes.</p>
</div>
<div class="section" id="abandon">
<h4>Abandon<a class="headerlink" href="#abandon" title="Permalink to this headline">¶</a></h4>
<p>You can abandon changes in a couple of ways. The recommended one is:</p>
<div class="highlight-python"><pre>git checkout &lt;file&gt;</pre>
</div>
<p>This checks out the previously-committed version of the file.</p>
<p>The one that is not recommended is:</p>
<div class="highlight-python"><pre>git checkout -f &lt;branch&gt;</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">-f</span></tt> flag forces the branch to be checked out.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Forcing operations with <tt class="docutils literal"><span class="pre">-f</span></tt></p>
<blockquote class="last">
<div>Generally speaking, using the <tt class="docutils literal"><span class="pre">-f</span></tt> flag for Git operations is to be
avoided. It offers plenty of scope for mishap. If Git tells you about a
problem and you force your way past it, you&#8217;re inviting trouble.</div></blockquote>
</div>
</div>
<div class="section" id="stash">
<h4>Stash<a class="headerlink" href="#stash" title="Permalink to this headline">¶</a></h4>
<p>If you&#8217;re really interested, look up <tt class="docutils literal"><span class="pre">git</span> <span class="pre">stash</span></tt>, but it&#8217;s beyond the scope of this tutorial.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Git on the commandline</a><ul>
<li><a class="reference internal" href="#install-set-up-git">Install/set up Git</a><ul>
<li><a class="reference internal" href="#tell-git-who-you-are">Tell Git who you are</a></li>
<li><a class="reference internal" href="#give-github-your-public-keys">Give GitHub your public keys</a></li>
</ul>
</li>
<li><a class="reference internal" href="#some-basic-git-operations">Some basic Git operations</a><ul>
<li><a class="reference internal" href="#clone-a-repository">Clone a repository</a></li>
<li><a class="reference internal" href="#create-a-new-branch">Create a new branch</a></li>
<li><a class="reference internal" href="#edit-a-file">Edit a file</a></li>
<li><a class="reference internal" href="#stage-your-changes">Stage your changes</a><ul>
<li><a class="reference internal" href="#what-gets-staged">What gets staged?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#commit-your-changes">Commit your changes</a></li>
<li><a class="reference internal" href="#push-your-changes-to-github">Push your changes to GitHub</a></li>
<li><a class="reference internal" href="#check-your-github-repository">Check your GitHub repository</a></li>
<li><a class="reference internal" href="#send-me-a-pull-request">Send me a pull request</a></li>
<li><a class="reference internal" href="#incorporate-upstream-changes">Incorporate upstream changes</a></li>
<li><a class="reference internal" href="#switching-between-branches-locally">Switching between branches locally</a><ul>
<li><a class="reference internal" href="#commit">Commit</a></li>
<li><a class="reference internal" href="#abandon">Abandon</a></li>
<li><a class="reference internal" href="#stash">Stash</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="git.html"
                        title="previous chapter">Git and GitHub</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="remotes.html"
                        title="next chapter">Working with remotes</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/commandlinegit.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="remotes.html" title="Working with remotes"
             >next</a> |</li>
        <li class="right" >
          <a href="git.html" title="Git and GitHub"
             >previous</a> |</li>
        <li><a href="index.html">Don&#39;t be afraid to commit 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Daniele Procida.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>